<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>User Role Selection</title>
    <link rel="stylesheet" href="Landing.css">
</head>
<body>
    <div class="container">
        <h1>Welcome to Permity</h1>

        <div class="button">
            <p>Please select your role:</p>
            <div class="button-container">
                <a href="#" class="button admin-btn" onclick="selectRole('admin')">Admin</a>
                <a href="#" class="button administrator-btn" onclick="selectRole('administrator')">Administrator</a>
                <a href="#" class="button student-btn" onclick="selectRole('student')">Student</a>
            </div>
        </div>

        <div class="select">
            <h2>Select Your College</h2>
            <select id="college-dropdown">
                <option value="" disabled selected>Choose a college...</option>
                <option value="SJC">St Joseph's College (Autonomous), Devagiri</option>
                <option value="AV">Amritha Vidhyalaya</option>
                <option value="MACE">MACE College</option>
                <option value="FK">Farook College</option>
                <option value="GEC">GEC Kannur</option>
                <option value="other">Other</option>
            </select>
        </div>

        <div class="bottom-buttons">
            <button type="button" onclick="navigate('signup')">Sign Up</button>
            <button type="button" onclick="navigate('signin')">Sign In</button>
        </div>
    </div>

    <script>
        let selectedRole = null;

        function selectRole(role) {
            selectedRole = role;
            alert("You selected: " + role.toUpperCase());

            // Highlight the selected button
            document.querySelectorAll(".button").forEach(btn => btn.classList.remove("selected"));
            document.querySelector("." + role + "-btn").classList.add("selected");
        }

        function navigate(action) {
            let college = document.getElementById("college-dropdown").value;

            if (!selectedRole) {
                alert("Please select a role first.");
                return;
            }
            if (!college) {
                alert("Please select a college.");
                return;
            }

            // Determine the correct navigation page
            let page = "";
            if (selectedRole === "admin") {
                page = action === "signup" ? "admin_signup.html" : "adm_login.html";
            } else if (selectedRole === "administrator") {
                page = action === "signup" ? "admr_reg.html" : "adm_login.html";
            } else if (selectedRole === "student") {
                page = action === "signup" ? "stdnt_reg.html" : "std_login.html";
            }

            // Redirect to the correct page
            window.location.href = page + "?role=" + selectedRole + "&college=" + college;
        }
    </script>
</body>
</html>
